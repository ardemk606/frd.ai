# =============================================================================
# ТЯЖЕЛЫЕ ML-ЗАВИСИМОСТИ (редко меняются, устанавливаются первыми для кеширования)
# =============================================================================
torch
transformers
datasets
peft
accelerate
numpy
scipy
evaluate
optuna
protobuf
sentencepiece

# =============================================================================
# МЕТРИКИ И ЭВАЛУАЦИЯ
# =============================================================================
BLEU
rouge_score
bert_score

# =============================================================================
# ИНФРАСТРУКТУРНЫЕ ЗАВИСИМОСТИ (могут меняться чаще)
# =============================================================================
celery==5.4.0
redis==5.0.4
psycopg2-binary
pydantic
pydantic-settings
python-dotenv
minio==7.2.7
aiohttp

# =============================================================================
# API И СЕРВИСЫ
# =============================================================================
google-genai
langchain-gigachat

# =============================================================================
# ОПЦИОНАЛЬНЫЕ (закомментированы для ускорения сборки)
# =============================================================================
# bitsandbytes  # Нужен только для квантизации, для CPU-worker не требуется

# MLflow (опционально) - добавляем только MLflow без изменения других зависимостей
mlflow>=2.8.0